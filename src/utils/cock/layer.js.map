{"version":3,"file":"layer.js","sources":["../src/layer/layer.js"],"sourcesContent":["/*!\n\n @Name：layer v2.0 弹层组件\n @Author：贤心\n @Site：http://layer.layui.com\n @License：LGPL\n\n */\n\n\nvar $ = jQuery;\nvar win = $(window);\nvar ready = {\n    getPath: function(){\n        var js = document.scripts, script = js[js.length - 1], jsPath = script.src;\n        if(script.getAttribute('merge')) return;\n        return jsPath.substring(0, jsPath.lastIndexOf(\"/\") + 1);\n    }(),\n\n    //屏蔽Enter触发弹层\n    enter: function(e){\n        if(e.keyCode === 13) e.preventDefault();\n    },\n    config: {}, end: {},\n    btn: ['&#x786E;&#x5B9A;','&#x53D6;&#x6D88;'],\n\n    //五种原始层模式\n    type: ['dialog', 'page', 'iframe', 'loading', 'tips'],\n};\nvar layerSkin;\n\n//默认内置方法。\nvar layer = {\n\t/**本宝宝拓展 fis3 皮肤支持 */\n\tskin: function(skin) { return this },\n\t\n    v: '2.0',\n    ie6: !!window.ActiveXObject&&!window.XMLHttpRequest,\n    index: 0,\n    path: ready.getPath,\n    config: function(options, fn){\n        var item = 0;\n        options = options || {};\n        layer.cache = ready.config = $.extend(ready.config, options);\n        layer.path = ready.config.path || layer.path;\n        typeof options.extend === 'string' && (options.extend = [options.extend]);\n        layer.use('skin/layer.css', (options.extend && options.extend.length > 0) ? (function loop(){\n            var ext = options.extend;\n            layer.use(ext[ext[item] ? item : item-1], item < ext.length ? function(){\n                ++item;\n                return loop;\n            }() : fn);\n        }()) : fn);\n        return this;\n    },\n\n    //载入配件\n    use: function(module, fn, readyMethod){\n        var i = 0, head = $('head')[0];\n        var module = module.replace(/\\s/g, '');\n        var iscss = /\\.css$/.test(module);\n        var node = document.createElement(iscss ? 'link' : 'script');\n        var id = 'layui_layer_' + module.replace(/\\.|\\//g, '');\n        if(!layer.path) return;\n        if(iscss){\n            node.rel = 'stylesheet';\n        }\n        node[iscss ? 'href' : 'src'] = /^http:\\/\\//.test(module) ? module : layer.path + module;\n        node.id = id;\n        if(!$('#'+ id)[0]){\n            head.appendChild(node);\n        }\n        //轮询加载就绪\n        ;(function poll() {\n            ;(iscss ? parseInt($('#'+id).css('width'), 10) === 1989 : layer[readyMethod||id]) ? function(){\n                fn && fn();\n                try { iscss || head.removeChild(node); } catch(e){};\n            }() : setTimeout(poll, 100);\n        }());\n        return this;\n    },\n\n    ready: function(path, fn){\n        var type = typeof path === 'function';\n        if(type) fn = path;\n        layer.config($.extend(ready.config, function(){\n           return type ? {} : {path: path};\n        }()), fn);\n        return this;\n    },\n\n    //各种快捷引用\n    alert: function(content, options, yes){\n        var type = typeof options === 'function';\n        if(type) yes = options;\n        return layer.open($.extend({\n            content: content,\n            yes: yes,\n        }, type ? {} : options));\n    },\n\n    confirm: function(content, options, yes, cancel){\n        var type = typeof options === 'function';\n        if(type){\n            cancel = yes;\n            yes = options;\n        }\n        return layer.open($.extend({\n            content: content,\n            btn: ready.btn,\n            yes: yes,\n            cancel: cancel,\n        }, type ? {} : options));\n    },\n\n    msg: function(content, options, end){ //最常用提示层\n        var type = typeof options === 'function', rskin = ready.config.skin;\n        var skin = (rskin ? rskin + ' ' + rskin + '-msg' : '')||'layui-layer-msg';\n        var shift = doms.anim.length - 1;\n        if(type) end = options;\n        return layer.open($.extend({\n            content: content,\n            time: 3000,\n            shade: false,\n            skin: skin,\n            title: false,\n            closeBtn: false,\n            btn: false,\n            end: end,\n        }, (type && !ready.config.skin) ? {\n            skin: skin + ' layui-layer-hui',\n            shift: shift,\n        } : function(){\n           options = options || {};\n           if(options.icon === -1 || options.icon === undefined && !ready.config.skin){\n               options.skin = skin + ' ' + (options.skin||'layui-layer-hui');\n           }\n           return options;\n        }()));\n    },\n\n    load: function(icon, options){\n        return layer.open($.extend({\n            type: 3,\n            icon: icon || 0,\n            shade: 0.01,\n        }, options));\n    },\n\n    tips: function(content, follow, options){\n        return layer.open($.extend({\n            type: 4,\n            content: [content, follow],\n            closeBtn: false,\n            time: 3000,\n            maxWidth: 210,\n        }, options));\n    },\n};\n\nvar Class = function(setings){\n    var that = this;\n    that.index = ++layer.index;\n    that.config = $.extend({}, that.config, ready.config, setings);\n    that.creat();\n};\n\nClass.pt = Class.prototype;\n\n//缓存常用字符\nvar doms = ['layui-layer', '.layui-layer-title', '.layui-layer-main', '.layui-layer-dialog', 'layui-layer-iframe', 'layui-layer-content', 'layui-layer-btn', 'layui-layer-close'];\ndoms.anim = ['layui-anim', 'layui-anim-01', 'layui-anim-02', 'layui-anim-03', 'layui-anim-04', 'layui-anim-05', 'layui-anim-06'];\n\n//默认配置\nClass.pt.config = {\n    type: 0,\n    shade: 0.5,\n    fix: true,\n    move: doms[1],\n    title: '&#x4FE1;&#x606F;',\n    offset: 'auto',\n    area: 'auto',\n    closeBtn: 1,\n    time: 0, //0表示不自动关闭\n    zIndex: 2001,\n    maxWidth: 360,\n    shift: 0,\n    icon: -1,\n    scrollbar: true, //是否允许浏览器滚动条\n    tips: 2,\n};\n\n//容器\nClass.pt.vessel = function(conType, callback){\n    var that = this, times = that.index, config = that.config;\n    var zIndex = config.zIndex + times, titype = typeof config.title === 'object';\n    var ismax = config.maxmin && (config.type === 1 || config.type === 2);\n    var titleHTML = (config.title ? '<div class=\"layui-layer-title\" style=\"'+ (titype ? config.title[1] : '') +'\">'\n        + (titype ? config.title[0] : config.title)\n    + '</div>' : '');\n\n    config.zIndex = zIndex;\n    callback([\n        //遮罩\n        config.shade ? ('<div class=\"layui-layer-shade\" id=\"layui-layer-shade'+ times +'\" times=\"'+ times +'\" style=\"'+ ('z-index:'+ (zIndex-1) +'; background-color:'+ (config.shade[1]||'#000') +'; opacity:'+ (config.shade[0]||config.shade) +'; filter:alpha(opacity='+ (config.shade[0]*100||config.shade*100) +');') +'\"></div>') : '',\n\n        //主体\n        '<div class=\"'+ doms[0] +' '+ (doms.anim[config.shift]||'') + (' layui-layer-'+ready.type[config.type]) + (((config.type == 0 || config.type == 2) && !config.shade) ? ' layui-layer-border' : '') + ' ' + (config.skin||'') +'\" id=\"'+ doms[0] + times +'\" type=\"'+ ready.type[config.type] +'\" times=\"'+ times +'\" showtime=\"'+ config.time +'\" conType=\"'+ (conType ? 'object' : 'string') +'\" style=\"z-index: '+ zIndex +'; width:'+ config.area[0] + ';height:' + config.area[1] + (config.fix ? '' : ';position:absolute;') +'\">'\n            + (conType && config.type != 2 ? '' : titleHTML)\n            +'<div class=\"layui-layer-content'+ ((config.type == 0 && config.icon !== -1) ? ' layui-layer-padding' :'') + (config.type == 3 ? ' layui-layer-loading'+config.icon : '') +'\">'\n                + (config.type == 0 && config.icon !== -1 ? '<i class=\"layui-layer-ico layui-layer-ico'+ config.icon +'\"></i>' : '')\n                + (config.type == 1 && conType ? '' : (config.content||''))\n            +'</div>'\n            + '<span class=\"layui-layer-setwin\">'+ function(){\n                var closebtn = ismax ? '<a class=\"layui-layer-min\" href=\"javascript:;\"><cite></cite></a><a class=\"layui-layer-ico layui-layer-max\" href=\"javascript:;\"></a>' : '';\n                config.closeBtn && (closebtn += '<a class=\"layui-layer-ico '+ doms[7] +' '+ doms[7] + (config.title ? config.closeBtn : (config.type == 4 ? '1' : '2')) +'\" href=\"javascript:;\"></a>');\n                return closebtn;\n            }() + '</span>'\n            + (config.btn ? function(){\n                var button = '';\n                typeof config.btn === 'string' && (config.btn = [config.btn]);\n                for(var i = 0, len = config.btn.length; i < len; i++){\n                    button += '<a class=\"'+ doms[6] +''+ i +' ' + ' ' + 'unlimited' + i + ' \">'+ config.btn[i] +'</a>'\n                }\n                return '<div class=\"'+ doms[6] +'\">'+ button +'</div>'\n            }() : '')\n        +'</div>',\n    ], titleHTML);\n    return that;\n};\n\n//创建骨架\nClass.pt.creat = function(){\n    var that = this, config = that.config, times = that.index, nodeIndex;\n    var content = config.content, conType = typeof content === 'object';\n\n    if(typeof config.area === 'string'){\n        config.area = config.area === 'auto' ? ['', ''] : [config.area, ''];\n    }\n\n    switch(config.type){\n        case 0:\n            config.btn = ('btn' in config) ? config.btn : ready.btn[0];\n            layer.closeAll('dialog');\n        break;\n        case 2:\n            var content = config.content = conType ? config.content : [config.content||'http://sentsin.com?from=layer', 'auto'];\n            config.content = '<iframe scrolling=\"'+ (config.content[1]||'auto') +'\" allowtransparency=\"true\" id=\"'+ doms[4] +''+ times +'\" name=\"'+ doms[4] +''+ times +'\" onload=\"this.className=\\'\\';\" class=\"layui-layer-load\" frameborder=\"0\" src=\"' + config.content[0] + '\"></iframe>';\n        break;\n        case 3:\n            config.title = false;\n            config.closeBtn = false;\n            config.icon === -1 && (config.icon === 0);\n            layer.closeAll('loading');\n        break;\n        case 4:\n            conType || (config.content = [config.content, 'body']);\n            config.follow = config.content[1];\n            config.content = config.content[0] + '<i class=\"layui-layer-TipsG\"></i>';\n            config.title = false;\n            config.shade = false;\n            config.fix = false;\n            config.tips = typeof config.tips === 'object' ? config.tips : [config.tips, true];\n            config.tipsMore || layer.closeAll('tips');\n        break;\n    }\n\n    //建立容器\n    that.vessel(conType, function(html, titleHTML){\n        $('body').append(html[0]);\n        conType ? function(){\n            (config.type == 2 || config.type == 4) ? function(){\n                $('body').append(html[1]);\n            }() : function(){\n                if(!content.parents('.'+doms[0])[0]){\n                    content.show().addClass('layui-layer-wrap').wrap(html[1]);\n                    $('#'+ doms[0] + times).find('.'+doms[5]).before(titleHTML);\n                }\n            }();\n        }() : $('body').append(html[1]);\n        that.layero = $('#'+ doms[0] + times);\n        config.scrollbar || doms.html.css('overflow', 'hidden').attr('layer-full', times);\n    }).auto(times);\n\n    config.type == 2 && layer.ie6 && that.layero.find('iframe').attr('src', content[0]);\n    $(document).off('keydown', ready.enter).on('keydown', ready.enter);\n\n    //坐标自适应浏览器窗口尺寸\n    config.type == 4 ? that.tips() : that.offset();\n    if(config.fix){\n        win.on('resize', function(){\n            that.offset();\n            (/^\\d+%$/.test(config.area[0]) || /^\\d+%$/.test(config.area[1])) && that.auto(times);\n            config.type == 4 && that.tips();\n        });\n    }\n\n    config.time <= 0 || setTimeout(function(){\n        layer.close(that.index)\n    }, config.time);\n    that.move().callback();\n};\n\n//自适应\nClass.pt.auto = function(index){\n    var that = this, config = that.config, layero = $('#'+ doms[0] + index);\n    if(config.area[0] === '' && config.maxWidth > 0){\n        //为了修复IE7下一个让人难以理解的bug\n        if(/MSIE 7/.test(navigator.userAgent) && config.btn){\n            layero.width(layero.innerWidth());\n        }\n        layero.outerWidth() > config.maxWidth && layero.width(config.maxWidth);\n    }\n    var area = [layero.innerWidth(), layero.innerHeight()];\n    var titHeight = layero.find(doms[1]).outerHeight() || 0;\n    var btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n    function setHeight(elem){\n        elem = layero.find(elem);\n        elem.height(area[1] - titHeight - btnHeight - 2*(parseFloat(elem.css('padding'))|0));\n    }\n    switch(config.type){\n        case 2:\n            setHeight('iframe');\n        break;\n        default:\n            if(config.area[1] === ''){\n                if(config.fix && area[1] >= win.height()){\n                    area[1] = win.height();\n                    setHeight('.'+doms[5]);\n                }\n            } else {\n                setHeight('.'+doms[5]);\n            }\n        break;\n    }\n    return that;\n};\n\n//计算坐标\nClass.pt.offset = function(){\n    var that = this, config = that.config, layero = that.layero;\n    var area = [layero.outerWidth(), layero.outerHeight()];\n    var type = typeof config.offset === 'object';\n    that.offsetTop = (win.height() - area[1])/2;\n    that.offsetLeft = (win.width() - area[0])/2;\n    if (typeof config.offset === 'function') {\n        var tmp = config.offset();\n        that.offsetTop = tmp[0] + 'px'\n        that.offsetLeft = tmp[1] + 'px'\n    }\n    if(type){\n        that.offsetTop = config.offset[0];\n        that.offsetLeft = config.offset[1]||that.offsetLeft;\n    } else if(config.offset !== 'auto' && typeof config.offset !== 'function'){\n        that.offsetTop = config.offset;\n        if(config.offset === 'rb'){ //右下角\n            that.offsetTop = win.height() - area[1];\n            that.offsetLeft = win.width() - area[0];\n        }\n    }\n    if(!config.fix){\n        that.offsetTop = /%$/.test(that.offsetTop) ?\n            win.height()*parseFloat(that.offsetTop)/100\n        : parseFloat(that.offsetTop);\n        that.offsetLeft = /%$/.test(that.offsetLeft) ?\n            win.width()*parseFloat(that.offsetLeft)/100\n        : parseFloat(that.offsetLeft);\n        that.offsetTop += win.scrollTop();\n        that.offsetLeft += win.scrollLeft();\n    }\n    layero.css({top: that.offsetTop, left: that.offsetLeft});\n};\n\n//Tips\nClass.pt.tips = function(){\n    var that = this, config = that.config, layero = that.layero;\n    var layArea = [layero.outerWidth(), layero.outerHeight()], follow = $(config.follow);\n    if(!follow[0]) follow = $('body');\n    var goal = {\n        width: follow.outerWidth(),\n        height: follow.outerHeight(),\n        top: follow.offset().top,\n        left: follow.offset().left,\n    }, tipsG = layero.find('.layui-layer-TipsG');\n\n    var guide = config.tips[0];\n    config.tips[1] || tipsG.remove();\n\n    goal.autoLeft = function(){\n        if(goal.left + layArea[0] - win.width() > 0){\n            goal.tipLeft = goal.left + goal.width - layArea[0];\n            tipsG.css({right: 12, left: 'auto'});\n        } else {\n            goal.tipLeft = goal.left;\n        };\n    };\n\n    //辨别tips的方位\n    goal.where = [function(){ //上\n        goal.autoLeft();\n        goal.tipTop = goal.top - layArea[1] - 10;\n        tipsG.removeClass('layui-layer-TipsB').addClass('layui-layer-TipsT').css('border-right-color', config.tips[1]);\n    }, function(){ //右\n        goal.tipLeft = goal.left + goal.width + 10;\n        goal.tipTop = goal.top;\n        tipsG.removeClass('layui-layer-TipsL').addClass('layui-layer-TipsR').css('border-bottom-color', config.tips[1]);\n    }, function(){ //下\n        goal.autoLeft();\n        goal.tipTop = goal.top + goal.height + 10;\n        tipsG.removeClass('layui-layer-TipsT').addClass('layui-layer-TipsB').css('border-right-color', config.tips[1]);\n    }, function(){ //左\n        goal.tipLeft = goal.left - layArea[0] - 10;\n        goal.tipTop = goal.top;\n        tipsG.removeClass('layui-layer-TipsR').addClass('layui-layer-TipsL').css('border-bottom-color', config.tips[1]);\n    }];\n    goal.where[guide-1]();\n\n    /* 8*2为小三角形占据的空间 */\n    if(guide === 1){\n        goal.top - (win.scrollTop() + layArea[1] + 8*2) < 0 && goal.where[2]();\n    } else if(guide === 2){\n        win.width() - (goal.left + goal.width + layArea[0] + 8*2) > 0 || goal.where[3]()\n    } else if(guide === 3){\n        (goal.top - win.scrollTop() + goal.height + layArea[1] + 8*2) - win.height() > 0 && goal.where[0]();\n    } else if(guide === 4){\n       layArea[0] + 8*2 - goal.left > 0 && goal.where[1]()\n    }\n\n    layero.find('.'+doms[5]).css({\n        'background-color': config.tips[1],\n        'padding-right': (config.closeBtn ? '30px' : ''),\n    });\n    layero.css({left: goal.tipLeft, top: goal.tipTop});\n}\n\n//拖拽层\nClass.pt.move = function(){\n    var that = this, config = that.config, conf = {\n        setY: 0,\n        moveLayer: function(){\n            var layero = conf.layero, mgleft = parseInt(layero.css('margin-left'), 10);\n            var lefts = parseInt(conf.move.css('left'), 10);\n            mgleft === 0 || (lefts = lefts - mgleft);\n            if(layero.css('position') !== 'fixed'){\n                lefts = lefts - layero.parent().offset().left;\n                conf.setY = 0;\n            }\n            layero.css({left: lefts, top: parseInt(conf.move.css('top'), 10) - conf.setY});\n        },\n    };\n\n    var movedom = that.layero.find(config.move);\n    config.move && movedom.attr('move', 'ok');\n    movedom.css({cursor: config.move ? 'move' : 'auto'});\n\n    $(config.move).on('mousedown', function(M){\n        M.preventDefault();\n        if($(this).attr('move') === 'ok'){\n            conf.ismove = true;\n            conf.layero = $(this).parents('.'+ doms[0]);\n            var xx = conf.layero.offset().left, yy = conf.layero.offset().top, ww = conf.layero.outerWidth() - 2, hh = conf.layero.outerHeight() - 2;\n            if(!$('#layui-layer-moves')[0]){\n                $('body').append('<div id=\"layui-layer-moves\" class=\"layui-layer-moves\" style=\"left:'+ xx +'px; top:'+ yy +'px; width:'+ ww +'px; height:'+ hh +'px; z-index:2147483584\"></div>');\n            }\n            conf.move = $('#layui-layer-moves');\n            config.moveType && conf.move.css({visibility: 'hidden'});\n\n            conf.moveX = M.pageX - conf.move.position().left;\n            conf.moveY = M.pageY - conf.move.position().top;\n            conf.layero.css('position') !== 'fixed' || (conf.setY = win.scrollTop());\n        }\n    });\n\n    $(document).mousemove(function(M){\n        if(conf.ismove){\n            var offsetX = M.pageX - conf.moveX, offsetY = M.pageY - conf.moveY;\n            M.preventDefault();\n\n            //控制元素不被拖出窗口外\n            if(!config.moveOut){\n                conf.setY = win.scrollTop();\n                var setRig = win.width() - conf.move.outerWidth(), setTop = conf.setY;\n                offsetX < 0 && (offsetX = 0);\n                offsetX > setRig && (offsetX = setRig);\n                offsetY < setTop && (offsetY = setTop);\n                offsetY > win.height() - conf.move.outerHeight() + conf.setY && (offsetY = win.height() - conf.move.outerHeight() + conf.setY);\n            }\n\n            conf.move.css({left: offsetX, top: offsetY});\n            config.moveType && conf.moveLayer();\n\n            offsetX = offsetY = setRig = setTop = null;\n        }\n    }).mouseup(function(){\n        try{\n            if(conf.ismove){\n                conf.moveLayer();\n                conf.move.remove();\n                config.moveEnd && config.moveEnd();\n            }\n            conf.ismove = false;\n        }catch(e){\n            conf.ismove = false;\n        }\n    });\n    return that;\n};\n\nClass.pt.callback = function(){\n    var that = this, layero = that.layero, config = that.config;\n    that.openLayer();\n    if(config.success){\n        if(config.type == 2){\n            layero.find('iframe')[0].onload = function(){\n                this.className = '';\n                config.success(layero, that.index);\n            };\n        } else {\n            config.success(layero, that.index);\n        }\n    }\n    layer.ie6 && that.IE6(layero);\n\n    //按钮\n    layero.find('.'+ doms[6]).children('a').on('click', function(){\n        var index = $(this).index();\n        config['btn'+(index+1)] && config['btn'+(index+1)](that.index, layero);\n        if(index === 0){\n            config.yes ? config.yes(that.index, layero) : layer.close(that.index);\n        } else if(index === 1){\n            cancel();\n        } else {\n            config['btn'+(index+1)] || layer.close(that.index);\n        }\n    });\n\n    //取消\n    function cancel(){\n        var close = config.cancel && config.cancel(that.index);\n        close === false || layer.close(that.index);\n    }\n\n    //右上角关闭回调\n    layero.find('.'+ doms[7]).on('click', cancel);\n\n    //点遮罩关闭\n    if(config.shadeClose){\n        $('#layui-layer-shade'+ that.index).on('click', function(){\n            layer.close(that.index);\n        });\n    }\n\n    //最小化\n    layero.find('.layui-layer-min').on('click', function(){\n        layer.min(that.index, config);\n        config.min && config.min(layero);\n    });\n\n    //全屏/还原\n    layero.find('.layui-layer-max').on('click', function(){\n        if($(this).hasClass('layui-layer-maxmin')){\n            layer.restore(that.index);\n            config.restore && config.restore(layero);\n        } else {\n            layer.full(that.index, config);\n            config.full && config.full(layero);\n        }\n    });\n\n    config.end && (ready.end[that.index] = config.end);\n};\n\n//for ie6 恢复select\nready.reselect = function(){\n    $.each($('select'), function(index , value){\n        var sthis = $(this);\n        if(!sthis.parents('.'+doms[0])[0]){\n            (sthis.attr('layer') == 1 && $('.'+doms[0]).length < 1) && sthis.removeAttr('layer').show();\n        }\n        sthis = null;\n    });\n};\n\nClass.pt.IE6 = function(layero){\n    var that = this, _ieTop = layero.offset().top;\n\n    //ie6的固定与相对定位\n    function ie6Fix(){\n        layero.css({top : _ieTop + (that.config.fix ? win.scrollTop() : 0)});\n    };\n    ie6Fix();\n    win.scroll(ie6Fix);\n\n    //隐藏select\n    $('select').each(function(index , value){\n        var sthis = $(this);\n        if(!sthis.parents('.'+doms[0])[0]){\n            sthis.css('display') === 'none' || sthis.attr({'layer' : '1'}).hide();\n        }\n        sthis = null;\n    });\n};\n\n//需依赖原型的对外方法\nClass.pt.openLayer = function(){\n    var that = this;\n\n    //置顶当前窗口\n    layer.zIndex = that.config.zIndex;\n    layer.setTop = function(layero){\n        var setZindex = function(){\n            layer.zIndex++;\n            layero.css('z-index', layer.zIndex + 1);\n        };\n        layer.zIndex = parseInt(layero[0].style.zIndex, 10);\n        layero.on('mousedown', setZindex);\n        return layer.zIndex;\n    };\n};\n\nready.record = function(layero){\n    var area = [\n        layero.outerWidth(),\n        layero.outerHeight(),\n        layero.position().top,\n        layero.position().left + parseFloat(layero.css('margin-left')),\n    ];\n    layero.find('.layui-layer-max').addClass('layui-layer-maxmin');\n    layero.attr({area: area});\n};\n\nready.rescollbar = function(index){\n    if(doms.html.attr('layer-full') == index){\n        if(doms.html[0].style.removeProperty){\n            doms.html[0].style.removeProperty('overflow');\n        } else {\n            doms.html[0].style.removeAttribute('overflow');\n        }\n        doms.html.removeAttr('layer-full');\n    }\n};\n\n/*! 内置成员 */\n\n//获取子iframe的DOM\nlayer.getChildFrame = function(selector, index){\n    index = index || $('.'+doms[4]).attr('times');\n    return $('#'+ doms[0] + index).find('iframe').contents().find(selector);\n};\n\n//得到当前iframe层的索引，子iframe时使用\nlayer.getFrameIndex = function(name){\n    return $('#'+ name).parents('.'+doms[4]).attr('times');\n};\n\n//iframe层自适应宽高\nlayer.iframeAuto = function(index){\n    if(!index) return;\n    var heg = layer.getChildFrame('body', index).outerHeight();\n    var layero = $('#'+ doms[0] + index);\n    var titHeight = layero.find(doms[1]).outerHeight() || 0;\n    var btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n    layero.css({height: heg + titHeight + btnHeight});\n    layero.find('iframe').css({height: heg});\n};\n\n//重置iframe url\nlayer.iframeSrc = function(index, url){\n    $('#'+ doms[0] + index).find('iframe').attr('src', url);\n};\n\n//设定层的样式\nlayer.style = function(index, options){\n    var layero = $('#'+ doms[0] + index), type = layero.attr('type');\n    var titHeight = layero.find(doms[1]).outerHeight() || 0;\n    var btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n    if(type === ready.type[1] || type === ready.type[2]){\n        layero.css(options);\n        if(type === ready.type[2]){\n            layero.find('iframe').css({\n                height: parseFloat(options.height) - titHeight - btnHeight,\n            });\n        }\n    }\n};\n\n//最小化\nlayer.min = function(index, options){\n    var layero = $('#'+ doms[0] + index);\n    var titHeight = layero.find(doms[1]).outerHeight() || 0;\n    ready.record(layero);\n    layer.style(index, {width: 180, height: titHeight, overflow: 'hidden'});\n    layero.find('.layui-layer-min').hide();\n    layero.attr('type') === 'page' && layero.find(doms[4]).hide();\n    ready.rescollbar(index);\n};\n\n//还原\nlayer.restore = function(index){\n    var layero = $('#'+ doms[0] + index), area = layero.attr('area').split(',');\n    var type = layero.attr('type');\n    layer.style(index, {\n        width: parseFloat(area[0]),\n        height: parseFloat(area[1]),\n        top: parseFloat(area[2]),\n        left: parseFloat(area[3]),\n        overflow: 'visible',\n    });\n    layero.find('.layui-layer-max').removeClass('layui-layer-maxmin');\n    layero.find('.layui-layer-min').show();\n    layero.attr('type') === 'page' && layero.find(doms[4]).show();\n    ready.rescollbar(index);\n};\n\n//全屏\nlayer.full = function(index){\n    var layero = $('#'+ doms[0] + index), timer;\n    ready.record(layero);\n    if(!doms.html.attr('layer-full')){\n        doms.html.css('overflow','hidden').attr('layer-full', index);\n    }\n    clearTimeout(timer);\n    timer = setTimeout(function(){\n        var isfix = layero.css('position') === 'fixed';\n        layer.style(index, {\n             top: isfix ? 0 : win.scrollTop(),\n             left: isfix ? 0 : win.scrollLeft(),\n             width: win.width(),\n             height: win.height(),\n        });\n        layero.find('.layui-layer-min').hide();\n    }, 100);\n};\n\n//改变title\nlayer.title = function(name, index){\n    var title = $('#'+ doms[0] + (index||layer.index)).find(doms[1]);\n    title.html(name);\n};\n\n//关闭layer总方法\nlayer.close = function(index){\n    var layero = $('#'+ doms[0] + index), type = layero.attr('type');\n    if(!layero[0]) return;\n    if(type === ready.type[1] && layero.attr('conType') === 'object'){\n        layero.children(':not(.'+ doms[5] +')').remove();\n        for(var i = 0; i < 2; i++){\n            layero.find('.layui-layer-wrap').unwrap().hide();\n        }\n    } else {\n        //低版本IE 回收 iframe\n        if(type === ready.type[2]){\n            try {\n                var iframe = $('#'+doms[4]+index)[0];\n                iframe.contentWindow.document.write('');\n                iframe.contentWindow.close();\n                layero.find('.'+doms[5])[0].removeChild(iframe);\n            } catch(e){}\n        }\n        layero[0].innerHTML = '';\n        layero.remove();\n    }\n    $('#layui-layer-moves, #layui-layer-shade' + index).remove();\n    layer.ie6 && ready.reselect();\n    ready.rescollbar(index);\n    $(document).off('keydown', ready.enter);\n    typeof ready.end[index] === 'function' && ready.end[index]();\n    delete ready.end[index];\n};\n\n//关闭所有层\nlayer.closeAll = function(type){\n    $.each($('.'+doms[0]), function(){\n        var othis = $(this);\n        var is = type ? (othis.attr('type') === type) : 1;\n        is && layer.close(othis.attr('times'));\n        is = null;\n    });\n};\n\n//主入口\nready.run = function(){\n    doms.html = $('html');\n    layer.open = function(deliver){\n        var o = new Class(deliver);\n        return o.index;\n    };\n};\n\nready.run();\nwindow.layer = layer;\n\n"],"names":["$","jQuery","win","window","ready","js","document","scripts","script","length","jsPath","src","getAttribute","substring","lastIndexOf","e","keyCode","preventDefault","end","layer","skin","this","ActiveXObject","XMLHttpRequest","getPath","options","fn","item","cache","config","extend","path","use","loop","ext","module","readyMethod","head","iscss","replace","test","node","createElement","id","rel","appendChild","poll","parseInt","css","removeChild","setTimeout","type","content","yes","open","cancel","btn","rskin","shift","doms","anim","icon","undefined","follow","Class","setings","index","creat","pt","prototype","vessel","conType","callback","times","zIndex","titype","_typeof","title","ismax","maxmin","titleHTML","shade","time","area","fix","closebtn","closeBtn","button","i","len","that","closeAll","tips","tipsMore","html","append","parents","show","addClass","wrap","find","before","layero","scrollbar","attr","auto","ie6","off","enter","on","offset","close","move","maxWidth","navigator","userAgent","width","innerWidth","outerWidth","innerHeight","titHeight","outerHeight","btnHeight","setHeight","elem","height","parseFloat","offsetTop","offsetLeft","tmp","scrollTop","scrollLeft","top","left","layArea","goal","tipsG","guide","remove","autoLeft","tipLeft","right","where","tipTop","removeClass","conf","mgleft","lefts","parent","setY","movedom","cursor","M","ismove","xx","yy","ww","hh","moveType","visibility","moveX","pageX","position","moveY","pageY","mousemove","offsetX","offsetY","moveOut","setRig","setTop","moveLayer","mouseup","moveEnd","openLayer","success","onload","className","IE6","children","shadeClose","min","hasClass","restore","full","reselect","each","value","sthis","removeAttr","_ieTop","ie6Fix","scroll","hide","style","record","rescollbar","removeProperty","removeAttribute","getChildFrame","selector","contents","getFrameIndex","name","iframeAuto","heg","iframeSrc","url","overflow","split","timer","isfix","unwrap","iframe","contentWindow","write","innerHTML","othis","is","run","deliver"],"mappings":"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"}